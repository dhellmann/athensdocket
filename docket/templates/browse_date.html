{% extends "base.html" %}
{% block title %}Browse by date: {{date_range}}{% endblock %}

{% block content %}

<div class="container-fluid">

<div class="page-header">
  <h1>Browse <small>By Date</small></h1>
</div>

<div class="row-fluid">
<div class="span8">

<ul class="breadcrumb">
  <li><a href="{{ url_for('browse') }}">Browse</a> <span class="divider">/</span></li>
  <li>
  {%- if month %}
  <a href="{{url_for('browse_date', year=year)}}">{{year}}</a> <span class="divider">/</span>
  {% else %} 
  {{year}}
  {% endif %}
  </li>
  {%- if day %}
  <li>
    <a href="{{url_for('browse_date', year=year,
    month=month)}}">{{'%02d'|format(month)}}</a>  <span class="divider">/</span>
  </li>
  {% elif month %}
  <li>{{'%02d'|format(month)}}</li>
  {% endif %}
  {%- if day %}
  <li>{{'%02d'|format(day)}}</li>
  {% endif %}
</ul>

  <table class="table table-striped">
    <thead>
      <tr>
        <th style="text-align: right;" width="10%">Case Number</th>
        <th width="20%">Hearing Date</th>
        <th>Defendant</th>
        <th width="10%">Violation</th>
      </tr>
    </thead>
    <tbody>
      {% for case in cases %}
      <tr>
        <td style="text-align: right;"><a href="{{ url_for('case', caseid=case._id) }}">{{case.number}}</a></td>
        <td><a href="{{ url_for('browse_date',
                     year=case.date.year, 
                     month=case.date.month, 
                     day=case.date.day)}}">{{case.date|date}}</a></td>
        <td>{{case.defendant}}</td>
        <td><a href="{{ url_for('code', code=case.violation) }}">{{case.violation}}</a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
</div>

{% endblock %}
